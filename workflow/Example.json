{"id":"a3aab533-60be-49a7-a7c4-dda0bc9b870f","revision":0,"last_node_id":18,"last_link_id":19,"nodes":[{"id":13,"type":"SD_HeartMuLa_ModelLoader","pos":[-6390.528954166613,-3390.009212467082],"size":[252.42468640035474,178],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"model_version","name":"model_version","type":"COMBO","widget":{"name":"model_version"},"link":null},{"localized_name":"codec","name":"codec","type":"COMBO","widget":{"name":"codec"},"link":null},{"localized_name":"memory_mode","name":"memory_mode","shape":7,"type":"COMBO","widget":{"name":"memory_mode"},"link":null},{"localized_name":"precision","name":"precision","shape":7,"type":"COMBO","widget":{"name":"precision"},"link":null},{"localized_name":"use_4bit","name":"use_4bit","shape":7,"type":"BOOLEAN","widget":{"name":"use_4bit"},"link":null},{"localized_name":"force_reload","name":"force_reload","shape":7,"type":"BOOLEAN","widget":{"name":"force_reload"},"link":null}],"outputs":[{"localized_name":"model","name":"model","type":"HEARTMULA_MODEL","links":[16,17,18]}],"properties":{"aux_id":"singldev/ComfyUI_SD-HeartMuLa","ver":"0250dd186cf0114e5f6b037c24b78a595669e50c","Node name for S&R":"SD_HeartMuLa_ModelLoader"},"widgets_values":["HeartMuLa-RL-oss-3B-20260123","HeartCodec-oss-20260123","auto","auto",false,false],"color":"#2a363b","bgcolor":"#3f5159"},{"id":8,"type":"SD_HeartMuLa_Decode","pos":[-5712.160063307089,-3424.508404320753],"size":[191.589453125,46],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"HEARTMULA_MODEL","link":17},{"localized_name":"audio_tokens","name":"audio_tokens","type":"HEARTMULA_TOKENS","link":8}],"outputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","links":[9]}],"properties":{"aux_id":"singldev/ComfyUI_SD-HeartMuLa","ver":"2cda3e353800781e26977e081c7a5f0b80c134d2","Node name for S&R":"SD_HeartMuLa_Decode"},"widgets_values":[],"color":"#2a363b","bgcolor":"#3f5159"},{"id":9,"type":"SD_HeartMuLa_Conditioning","pos":[-6090.677983853702,-3446.503005004929],"size":[312.2274697465091,491.54876566964504],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"HEARTMULA_MODEL","link":18},{"localized_name":"lyrics","name":"lyrics","type":"STRING","widget":{"name":"lyrics"},"link":null},{"localized_name":"tags","name":"tags","type":"STRING","widget":{"name":"tags"},"link":19},{"localized_name":"cfg_scale","name":"cfg_scale","shape":7,"type":"FLOAT","widget":{"name":"cfg_scale"},"link":null}],"outputs":[{"localized_name":"conditioning","name":"conditioning","type":"HEARTMULA_COND","links":[13]}],"properties":{"aux_id":"singldev/ComfyUI_SD-HeartMuLa","ver":"2cda3e353800781e26977e081c7a5f0b80c134d2","Node name for S&R":"SD_HeartMuLa_Conditioning"},"widgets_values":["[Intro]\n–ù–æ—á—å\n–î–∞–≤–ª–µ–Ω–∏–µ\n–ì–æ—Ä–æ–¥\n–†–∏—Ç–º\n\n[Verse]\n–°–≤–µ—Ç —Ä–µ–∂–µ—Ç –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ\n–¢–µ–Ω–∏ –¥–≤–∏–∂—É—Ç—Å—è\n–ü—É–ª—å—Å —Å–æ–≤–ø–∞–¥–∞–µ—Ç\n–¢–µ–ª–æ –æ—Ç–≤–µ—á–∞–µ—Ç\n\n–ë–∞—Å –Ω–∏–∂–µ\n–î–≤–∏–∂–µ–Ω–∏–µ\n–ë–µ–∑ –º—ã—Å–ª–µ–π\n–í–Ω—É—Ç—Ä–∏\n\n[Instrumental]\n–†–∏—Ç–º –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è\n–î–∞–≤–ª–µ–Ω–∏–µ\n–ü–æ–≤—Ç–æ—Ä\n\n","pop, female vocal, energetic",1.9,{"name":"Edit Lyrics","options":{},"type":"button","y":136,"last_y":136,"computedDisabled":false,"clicked":false,"computedHeight":24}],"color":"#2a363b","bgcolor":"#3f5159"},{"id":15,"type":"PrimitiveStringMultiline","pos":[-6403.50659566907,-3156.6921549713375],"size":[281.5687725797925,191.29751378262608],"flags":{"collapsed":false},"order":2,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"STRING","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","links":[19]}],"title":"Style","properties":{"cnr_id":"comfy-core","ver":"0.5.1","Node name for S&R":"PrimitiveStringMultiline","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65},"widgets_values":["hip-hop, male vocal, energetic, fast, synth\n\n\n\n"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":7,"type":"SD_HeartMuLa_Sampler","pos":[-5708.545356547629,-3301.5808858655614],"size":[240.61542770548357,174],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"HEARTMULA_MODEL","link":16},{"localized_name":"conditioning","name":"conditioning","type":"HEARTMULA_COND","link":13},{"localized_name":"max_duration_sec","name":"max_duration_sec","shape":7,"type":"INT","widget":{"name":"max_duration_sec"},"link":null},{"localized_name":"temperature","name":"temperature","shape":7,"type":"FLOAT","widget":{"name":"temperature"},"link":null},{"localized_name":"top_k","name":"top_k","shape":7,"type":"INT","widget":{"name":"top_k"},"link":null},{"localized_name":"seed","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"localized_name":"audio_tokens","name":"audio_tokens","type":"HEARTMULA_TOKENS","links":[8]}],"properties":{"aux_id":"singldev/ComfyUI_SD-HeartMuLa","ver":"2cda3e353800781e26977e081c7a5f0b80c134d2","Node name for S&R":"SD_HeartMuLa_Sampler"},"widgets_values":[120,0.95,50,797915004,"randomize"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":5,"type":"PreviewAudio","pos":[-5745.641320073145,-3068.036774903068],"size":[360.70907233625474,88],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":9},{"localized_name":"audioUI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.7.0","Node name for S&R":"PreviewAudio"},"widgets_values":[],"color":"#2a363b","bgcolor":"#3f5159"},{"id":18,"type":"MarkdownNote","pos":[-6927.547854474756,-3493.0128144474734],"size":[483.15444509533154,582.645898333808],"flags":{"collapsed":false},"order":1,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Guide: [Subgraph](https://docs.comfy.org/interface/features/subgraph)\n\n## Custom node for ComfyUI links\n\n**custom node**\n\n- [comfyui_sd-heartmula](https://github.com/singldev/comfyui_sd-heartmula)\n\n## Model links (for local users)\n\n**model**\n\n- [HeartMuLa-RL-oss-3B-20260123](https://huggingface.co/HeartMuLa/HeartMuLa-RL-oss-3B-20260123)\n\n**codec**\n\n- [HeartCodec-oss-20260123](https://huggingface.co/HeartMuLa/HeartCodec-oss-20260123)\n\n\nModel Storage Location\n\n```\nüìÇComfyUI/\n‚îî‚îÄ‚îÄ üìÇmodels/\n    ‚îî‚îÄ‚îÄ üìÇHeartMuLa/\n        ‚îú‚îÄ‚îÄ üìÇHeartMuLa-oss-3B/       # Main Model (Transformer)\n        ‚îÇ   ‚îú‚îÄ‚îÄ config.json\n        ‚îÇ   ‚îú‚îÄ‚îÄ model.safetensors\n        ‚îÇ   ‚îî‚îÄ‚îÄ ...\n        ‚îú‚îÄ‚îÄ üìÇHeartCodec-oss/         # Audio Codec\n        ‚îÇ   ‚îú‚îÄ‚îÄ config.json\n        ‚îÇ   ‚îú‚îÄ‚îÄ model.safetensors\n        ‚îÇ   ‚îî‚îÄ‚îÄ ...\n        ‚îú‚îÄ‚îÄ tokenizer.json          # Shared tokenizer\n        ‚îî‚îÄ‚îÄ gen_config.json         # Generation config\n```\n\n## Report issues\n\nNote: please update ComfyUI first ([guide](https://docs.comfy.org/zh-CN/installation/update_comfyui)) and prepare required models. Desktop/Cloud ship stable builds; nightly-supported models may not be included yet, please wait for the next stable release.\n\n- Cannot run / runtime errors: [ComfyUI/issues](https://github.com/comfyanonymous/ComfyUI/issues)\n- UI / frontend issues: [ComfyUI_frontend/issues](https://github.com/Comfy-Org/ComfyUI_frontend/issues)\n- Workflow issues: [workflow_templates/issues](https://github.com/Comfy-Org/workflow_templates/issues)\n"],"color":"#2a363b","bgcolor":"#3f5159"}],"links":[[8,7,0,8,1,"HEARTMULA_TOKENS"],[9,8,0,5,0,"AUDIO"],[13,9,0,7,1,"HEARTMULA_COND"],[16,13,0,7,0,"HEARTMULA_MODEL"],[17,13,0,8,0,"HEARTMULA_MODEL"],[18,13,0,9,0,"HEARTMULA_MODEL"],[19,15,0,9,2,"STRING"]],"groups":[{"id":1,"title":"Group","bounding":[-6425.200383314923,-3525.267787153901,1078.4273606750958,613.0596109446656],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":1.1671841070450104,"offset":[7043.31149323859,3552.8170828134716]},"workflowRendererVersion":"LG","frontendVersion":"1.35.9","VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true},"version":0.4}